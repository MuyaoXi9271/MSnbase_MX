<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Write MS data to mzML or mzXML files — writeMSData,MSnExp,character-method • MSnbase</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Write MS data to mzML or mzXML files — writeMSData,MSnExp,character-method" />
<meta property="og:description" content="The writeMSData,MSnExp and writeMSData,OnDiskMSnExp saves
the content of a MSnExp or OnDiskMSnExp object to MS file(s) in
either mzML or mzXML format." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MSnbase</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.17.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/v01-MSnbase-demo.html">MSnbase: MS data processing, visualisation and quantification</a>
    </li>
    <li>
      <a href="../articles/v02-MSnbase-io.html">MSnbase IO capabilities</a>
    </li>
    <li>
      <a href="../articles/v03-MSnbase-centroiding.html">MSnbase: centroiding of profile-mode MS data</a>
    </li>
    <li>
      <a href="../articles/v04-benchmarking.html">MSnbase benchmarking</a>
    </li>
    <li>
      <a href="../articles/v05-MSnbase-development.html">A short introduction to *MSnbase* development</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/lgatto/MSnbase/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write MS data to mzML or mzXML files</h1>
    <small class="dont-index">Source: <a href='https://github.com/lgatto/MSnbase/blob/master/R/methods-write.R'><code>R/methods-write.R</code></a></small>
    <div class="hidden name"><code>writeMSData.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>writeMSData,MSnExp</code> and <code>writeMSData,OnDiskMSnExp</code> saves
the content of a <a href='MSnExp-class.html'>MSnExp</a> or <a href='OnDiskMSnExp-class.html'>OnDiskMSnExp</a> object to MS file(s) in
either <em>mzML</em> or <em>mzXML</em> format.</p>
    </div>

    <pre class="usage"><span class='co'># S4 method for MSnExp,character</span>
<span class='fu'>writeMSData</span><span class='op'>(</span>
  <span class='va'>object</span>,
  <span class='va'>file</span>,
  outformat <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"mzml"</span>, <span class='st'>"mzxml"</span><span class='op'>)</span>,
  merge <span class='op'>=</span> <span class='cn'>FALSE</span>,
  verbose <span class='op'>=</span> <span class='fu'><a href='MSnbaseOptions.html'>isMSnbaseVerbose</a></span><span class='op'>(</span><span class='op'>)</span>,
  copy <span class='op'>=</span> <span class='cn'>FALSE</span>,
  software_processing <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p><code>OnDiskMSnExp</code> or <code>MSnExp</code> object.</p></td>
    </tr>
    <tr>
      <th>file</th>
      <td><p><code>character</code> with the file name(s). Its length has to match the
number of samples/files of <code>x</code>.</p></td>
    </tr>
    <tr>
      <th>outformat</th>
      <td><p><code><a href='https://rdrr.io/r/base/character.html'>character(1)</a></code> defining the format of the output files.
Default output format is <code>"mzml"</code>.</p></td>
    </tr>
    <tr>
      <th>merge</th>
      <td><p><code><a href='https://rdrr.io/r/base/logical.html'>logical(1)</a></code> whether the data should be saved into a single
<em>mzML</em> file. Default is <code>merge = FALSE</code>, i.e. each sample is saved to
a separate file. <strong>Note</strong>: <code>merge = TRUE</code> is not yet implemented.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p><code><a href='https://rdrr.io/r/base/logical.html'>logical(1)</a></code> if progress messages should be displayed.</p></td>
    </tr>
    <tr>
      <th>copy</th>
      <td><p><code><a href='https://rdrr.io/r/base/logical.html'>logical(1)</a></code> if metadata (data processings, original file names
etc) should be copied from the original files. See details for more
information.</p></td>
    </tr>
    <tr>
      <th>software_processing</th>
      <td><p>optionally provide specific data processing steps.
See documentation of the <code>software_processing</code> parameter of
<code><a href='https://rdrr.io/pkg/mzR/man/writeMSData.html'>mzR::writeMSData()</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>writeMSData</code> method uses the <em>proteowizard</em> libraries through
the <code>mzR</code> package to save the MS data. The data can be written to
<em>mzML</em> or <em>mzXML</em> files with or without copying additional metadata
information from the original files from which the data was read by the
<code><a href='readMSData.html'>readMSData()</a></code> function. This can be set using the <code>copy</code> parameter.
Note that <code>copy = TRUE</code> requires the original files to be available and
is not supported for input files in other than mzML or mzXML format.
All metadata related to the run is copied, such as instrument
information, data processings etc. If <code>copy = FALSE</code> only processing
information performed in R (using <code>MSnbase</code>) are saved to the mzML file.</p>
<p>Currently only spectrum data is supported, i.e. if the original mzML
file contains also chromatogram data it is not copied/saved to the new
mzML file.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>General spectrum data such as total ion current, peak count, base peak
m/z or base peak intensity are calculated from the actual spectrum data
before writing the data to the files.</p>
<p>For MSn data, if the <code>OnDiskMSnExp</code> or <code>MSnExp</code> does not contain also
the precursor scan of a MS level &gt; 1 spectrum (e.g. due to filtering on
the MS level) <code>precursorScanNum</code> is set to 0 in the output file to
avoid potentially linking to a wrong spectrum.</p>
<p>The exported <code>mzML</code> file <em>should</em> be valid according to the mzML 1.1.2
standard. For exported <code>mzXML</code> files it can not be guaranteed that they
are valid and can be opened with other software than <code>mzR</code>/<code>MSnbase</code>.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Johannes Rainer</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Laurent Gatto, Johannes Rainer, Sebastian Gibb.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


